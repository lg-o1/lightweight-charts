<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Lightweight Charts Demos — Wave0</title>
  <link rel="icon" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 64 64'%3E%3Crect width='64' height='64' rx='12' fill='%230B84F3'/%3E%3Ctext x='32' y='42' font-size='36' text-anchor='middle' fill='%23fff'%3EL%3C/text%3E%3C/svg%3E">
  <style>
    body{font-family:system-ui,Arial,sans-serif;margin:0;padding:20px;color:#222;background:#fafafa}
    h1{margin:0 0 10px 0}
    .hint{font-size:13px;color:#555}
    nav ul{list-style:none;padding:0;margin:20px 0}
    nav li{margin:8px 0}
    nav a{color:#0a58ca;text-decoration:none}
    nav a:hover{text-decoration:underline}
    code{background:#f1f3f5;padding:2px 4px;border-radius:4px}
    .block{background:#fff;border:1px solid #e5e7eb;border-radius:8px;padding:16px;margin-top:16px}
    .warn{background:#fffbe6;border-color:#ffe58f}
    .ok{background:#eff6ff;border-color:#bfdbfe}
    pre{white-space:pre-wrap;word-break:break-word}
  </style>
</head>
<body>
  <header class="block ok">
    <h1>Lightweight Charts Demos — Wave0 Baseline</h1>
    <p class="hint">Use these demos to validate feature flags, rectangle drawing interactions, performance and memory baselines.</p>
    <p class="hint">Autoscale behavior: Rectangle affects vertical price range only; it does not change the timeScale. See docs.</p>
  </header>
  <section class="block ok">
    <strong>Drawing tools are Always-On in this build.</strong>
    <p class="hint">Rectangle autoscale affects vertical price range only; timeScale range is unchanged.</p>
  </section>
  <nav class="block">
    <h2>Demos</h2>
    <ul>
      <li><a href="./01-basic-line-utc.html">01 — Basic Line (UTCTimestamp)</a></li>
      <li><a href="./02-candles-volume-utc.html">02 — Candles + Volume (UTCTimestamp)</a></li>
      <li><a href="./03-line-business-day.html">03 — Basic Line (BusinessDay)</a></li>
      <li><a href="./04-rectangle-utc.html">04 — Rectangle Interactions (UTCTimestamp)</a></li>
      <li><a href="./05-rectangle-business-day.html">05 — Rectangle Interactions (BusinessDay)</a></li>
      <li><a href="./06-rectangle-perf-200.html">06 — Rectangle Performance (200+ instances)</a></li>
      <li><a href="./07-rectangle-mem-attach-detach.html">07 — Rectangle Memory (attach/detach cycles)</a></li>
    </ul>
  </nav>
  <section class="block">
    <h2>Runtime environment</h2>
    <p class="hint">This page prints version and environment info. Drawing tools are Always-On; rectangle autoscale affects vertical price range only.</p>
    <pre id="log"></pre>
  </section>
  <section class="block">
    <h2>Notes</h2>
    <ul>
      <li>Charts module: <code>demos/lib/lwc.esm.js</code> is a local ESM bundle used by demos (no standalone needed).</li>
      <li>Rectangle tool wrapper: <code>drawing/tools/rectangle.js</code> re-exports the primitive and spec.</li>
      <li>Drawing tools are Always-On; rectangle autoscale is vertical-only.</li>
    </ul>
  </section>
  <script>
    // Polyfill process for browser ESM bundle (demo-only)
    window.process = window.process || { env: {} };
    window.process.env = window.process.env || {};
    window.process.env.BUILD_VERSION = 'wave0-demo';
    window.process.env.NODE_ENV = 'development';
    // Create global binding so ESM can resolve unqualified identifier
    var process = window.process;
  </script>
  <script type="module" src="./index.js"></script>
</body>
</html>