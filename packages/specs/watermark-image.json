{
  "schemaVersion": 1,
  "toolId": "watermark-image-shadow",
  "featureFlag": "drawingTools.watermarkImageShadow",
  "description": "Shadow implementation of image watermark as a pane-primitive on background layer for validating generator/TDS.",
  "anchors": [
    {
      "id": "pane",
      "type": "pane",
      "description": "Pane-level background watermark not anchored to price/time"
    }
  ],
  "states": [
    "idle"
  ],
  "handles": [],
  "views": {
    "pane": {
      "renderer": "image-watermark",
      "zOrder": "background",
      "supportsPreview": false
    }
  },
  "serialization": {
    "version": 1,
    "snapshot": [
      "options"
    ]
  },
  "options": [
    {
      "name": "src",
      "type": "string",
      "default": ""
    },
    {
      "name": "opacity",
      "type": "number",
      "default": 0.25
    },
    {
      "name": "scaling",
      "type": "enum(none|contain|cover)",
      "default": "contain"
    },
    {
      "name": "widthPct",
      "type": "number",
      "default": 40
    },
    {
      "name": "heightPct",
      "type": "number",
      "default": 0
    },
    {
      "name": "horzAlign",
      "type": "enum(left|center|right)",
      "default": "center"
    },
    {
      "name": "vertAlign",
      "type": "enum(top|center|bottom)",
      "default": "center"
    },
    {
      "name": "rotation",
      "type": "number",
      "default": 0
    }
  ],
  "testing": {
    "unit": [
      "spec metadata"
    ],
    "e2e": [
      "renders on background layer",
      "does not affect autoscale"
    ],
    "performance": {
      "maxInstances": 1,
      "targetFps": 60
    }
  }
}